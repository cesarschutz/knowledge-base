# 1ï¸âƒ£7ï¸âƒ£ Java 17 LTS (2021)

## ğŸš€ Java 17 - A LTS Moderna e EstÃ¡vel

Java 17 Ã© atualmente a versÃ£o LTS mais adotada para novos projetos, oferecendo excelente equilÃ­brio entre estabilidade e recursos modernos.

---

## â­ Principais Novidades

### ğŸ”¹ Sealed Classes (Final)

#### â“ O que Ã©?
Classes que controlam quais outras classes podem estendÃª-las, oferecendo melhor modelagem de domÃ­nio.

#### ğŸ’¡ Exemplo Simples
```java
// Classe selada - sÃ³ Shape, Circle e Rectangle podem estender
public sealed class Shape 
    permits Circle, Rectangle, Triangle {
    
    public abstract double area();
}

// Classes permitidas
public final class Circle extends Shape {
    private final double radius;
    
    public Circle(double radius) { this.radius = radius; }
    
    public double area() { return Math.PI * radius * radius; }
}

public final class Rectangle extends Shape {
    private final double width, height;
    
    public Rectangle(double width, double height) {
        this.width = width;
        this.height = height;
    }
    
    public double area() { return width * height; }
}

// Esta classe NÃƒO COMPILA - nÃ£o estÃ¡ na lista permits
public class Square extends Shape { } // ERRO!
```

### ğŸ”¹ Pattern Matching for instanceof

#### â“ O que Ã©?
Simplifica verificaÃ§Ãµes de tipo e casting, reduzindo cÃ³digo boilerplate.

#### ğŸ’¡ Exemplo Simples
```java
// Antes do Java 17
public String processObject(Object obj) {
    if (obj instanceof String) {
        String str = (String) obj;  // casting manual
        return str.toUpperCase();
    } else if (obj instanceof Integer) {
        Integer num = (Integer) obj;  // casting manual
        return "Number: " + num;
    }
    return "Unknown";
}

// Java 17 - Pattern Matching
public String processObject(Object obj) {
    if (obj instanceof String str) {      // casting automÃ¡tico
        return str.toUpperCase();
    } else if (obj instanceof Integer num) {  // casting automÃ¡tico
        return "Number: " + num;
    }
    return "Unknown";
}
```

### ğŸ”¹ Records (Final)

#### â“ O que Ã©?
Classes compactas para dados imutÃ¡veis, eliminando boilerplate de getters, equals, hashCode, toString.

#### ğŸ’¡ Exemplo Simples
```java
// Record simples
public record Person(String name, int age) {}

// Uso
Person person = new Person("JoÃ£o", 30);
System.out.println(person.name());  // JoÃ£o
System.out.println(person.age());   // 30
System.out.println(person);         // Person[name=JoÃ£o, age=30]

// Record com validaÃ§Ã£o
public record Product(String name, double price) {
    public Product {
        if (price < 0) {
            throw new IllegalArgumentException("PreÃ§o nÃ£o pode ser negativo");
        }
    }
}

// Record com mÃ©todos customizados
public record Point(int x, int y) {
    public double distanceFromOrigin() {
        return Math.sqrt(x * x + y * y);
    }
}
```

### ğŸ”¹ Text Blocks (Final)

#### â“ O que Ã©?
Strings multilinha sem necessidade de escape, ideais para JSON, SQL, HTML.

#### ğŸ’¡ Exemplo Simples
```java
// Antes - difÃ­cil de ler e manter
String json = "{\n" +
              "  \"name\": \"JoÃ£o\",\n" +
              "  \"age\": 30,\n" +
              "  \"city\": \"SÃ£o Paulo\"\n" +
              "}";

// Java 17 - Text Blocks
String json = """
    {
      "name": "JoÃ£o",
      "age": 30,
      "city": "SÃ£o Paulo"
    }
    """;

// SQL mais legÃ­vel
String sql = """
    SELECT p.name, p.age, c.name as city
    FROM person p
    JOIN city c ON p.city_id = c.id
    WHERE p.age > 18
    ORDER BY p.name
    """;
```

### ğŸ”¹ Switch Expressions (Final)

#### â“ O que Ã©?
Switch como expressÃ£o que retorna valor, com sintaxe mais concisa.

#### ğŸ’¡ Exemplo Simples
```java
// Switch clÃ¡ssico
public String getDayTypeOld(String day) {
    String result;
    switch (day) {
        case "MONDAY":
        case "TUESDAY":
        case "WEDNESDAY":
        case "THURSDAY":
        case "FRIDAY":
            result = "Weekday";
            break;
        case "SATURDAY":
        case "SUNDAY":
            result = "Weekend";
            break;
        default:
            result = "Invalid";
    }
    return result;
}

// Java 17 - Switch Expression
public String getDayType(String day) {
    return switch (day) {
        case "MONDAY", "TUESDAY", "WEDNESDAY", "THURSDAY", "FRIDAY" -> "Weekday";
        case "SATURDAY", "SUNDAY" -> "Weekend";
        default -> "Invalid";
    };
}
```

### ğŸ”¹ Stream.toList()

#### â“ O que Ã©?
MÃ©todo conveniente para coletar Stream em List imutÃ¡vel.

#### ğŸ’¡ Exemplo Simples
```java
List<String> names = List.of("ana", "joÃ£o", "maria");

// Antes do Java 17
List<String> upperNames = names.stream()
    .map(String::toUpperCase)
    .collect(Collectors.toList());

// Java 17 - mais simples
List<String> upperNames = names.stream()
    .map(String::toUpperCase)
    .toList();  // retorna lista imutÃ¡vel
```

---

## ğŸ”§ Outras Melhorias Importantes

### âš¡ Performance
- **macOS Metal rendering**: Melhor performance grÃ¡fica no macOS
- **New macOS rendering pipeline**: RenderizaÃ§Ã£o nativa
- **Foreign Function & Memory API** (Incubator): Acesso nativo mais seguro

### ğŸ› ï¸ Ferramentas
- **jpackage**: Criar instaladores nativos
- **Strongly Encapsulate JDK Internals**: Maior seguranÃ§a

---

## ğŸ¯ Por que Java 17 Ã© Especial?

- **LTS Moderna**: Primeira LTS com Records, Sealed Classes, Pattern Matching
- **Estabilidade Comprovada**: 3+ anos de uso em produÃ§Ã£o
- **PadrÃ£o da IndÃºstria**: Escolha preferida para novos projetos
- **Recursos Modernos**: Sintaxe concisa e expressiva
- **Performance Excelente**: OtimizaÃ§Ãµes significativas

---

## ğŸ“… InformaÃ§Ãµes da VersÃ£o

- **ğŸ“… LanÃ§amento**: Setembro de 2021
- **ğŸ”§ Tipo**: LTS (Long Term Support)
- **âš¡ Suporte**: AtÃ© 2029+
- **ğŸ¯ Status**: Recomendado para novos projetos

---

## ğŸ”— Links Ãšteis

- [Oracle Java 17 Documentation](https://docs.oracle.com/en/java/javase/17/)
- [Migration Guide to Java 17](https://docs.oracle.com/en/java/javase/17/migrate/index.html)
- [Java 17 Records Tutorial](https://www.baeldung.com/java-record-keyword)
- [Sealed Classes Guide](https://www.baeldung.com/java-sealed-classes-interfaces) 