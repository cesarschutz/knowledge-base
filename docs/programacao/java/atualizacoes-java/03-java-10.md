# 1️⃣0️⃣ Java 10 (2018)

## 🚀 Java 10 - Inferência de Tipos Local

Java 10 introduziu a palavra-chave `var` e melhorias em Garbage Collection.

---

## ⭐ Principais Novidades

### 🔹 Local-Variable Type Inference (var)

#### ❓ O que é?
Permite que o compilador infira o tipo de variáveis locais automaticamente.

#### 💡 Exemplo Simples
```java
// Antes do Java 10
List<String> lista = new ArrayList<String>();
Map<String, Integer> mapa = new HashMap<String, Integer>();

// Java 10 - com var
var lista = new ArrayList<String>();  // tipo inferido
var mapa = new HashMap<String, Integer>();  // tipo inferido
var nome = "João";  // String
var idade = 30;     // int
var preco = 19.99;  // double

// Com Streams
var nomes = List.of("Ana", "João", "Maria")
    .stream()
    .filter(s -> s.startsWith("J"))
    .collect(Collectors.toList());
```

#### ⚠️ Limitações do var
```java
// NÃO funciona com:
// var x;              // sem inicialização
// var y = null;       // tipo não pode ser inferido
// var lambda = () -> "test";  // lambdas precisam de contexto

// Funciona apenas em variáveis locais
public class Test {
    // var campo = "test";  // ERRO - não funciona em campos
    
    public void metodo() {
        var local = "test";  // OK - variável local
    }
}
```

### 🔹 Garbage Collection Improvements

#### ❓ O que é?
Melhorias no G1GC e introdução de novos coletores experimentais.

#### 💡 Exemplo Prático
```bash
# G1GC com parallel full GC
java -XX:+UseG1GC -XX:+UseG1FullGCParallel MyApp

# Experimental Epsilon GC (no-op)
java -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC MyApp
```

### 🔹 Application Class-Data Sharing

#### ❓ O que é?
Permite compartilhar metadados de classes entre execuções da JVM para startup mais rápido.

#### 💡 Exemplo Simples
```bash
# Criar arquivo CDS
java -Xshare:dump

# Usar CDS compartilhado
java -Xshare:on MyApplication
```

### 🔹 Thread-Local Handshakes

#### ❓ O que é?
Permite executar callbacks em threads individuais sem parar todas as threads.

---

## 🔧 Outras Melhorias

- **Optional.orElseThrow()**: Método sem parâmetros
- **Collection.copyOf()**: Criar cópias imutáveis
- **Collectors.toUnmodifiableList/Set/Map()**: Collectors imutáveis

#### 💡 Exemplo das APIs
```java
// Optional.orElseThrow() sem parâmetros
Optional<String> opt = Optional.empty();
String valor = opt.orElseThrow(); // NoSuchElementException

// Collection.copyOf()
List<String> original = List.of("a", "b", "c");
List<String> copia = List.copyOf(original); // imutável

// Collectors imutáveis
List<String> imutavel = stream
    .collect(Collectors.toUnmodifiableList());
```

---

## 📅 Informações da Versão

- **📅 Lançamento**: Março de 2018
- **🔧 Tipo**: Feature Release
- **⚡ Suporte**: Terminado (substituído pelo Java 11)
- **🎯 Status**: Importante pela introdução do `var`

---

## 🔗 Links Úteis

- [Oracle Java 10 Documentation](https://docs.oracle.com/javase/10/)
- [Local Variable Type Inference Guide](https://www.baeldung.com/java-10-local-variable-type-inference) 